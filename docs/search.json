[
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "Prognozēšanas metodes",
    "section": "",
    "text": "This is a Quarto website.\nTo learn more about Quarto websites visit https://quarto.org/docs/websites.\n\n100+100+100\n\n[1] 300"
  },
  {
    "objectID": "about.html",
    "href": "about.html",
    "title": "About",
    "section": "",
    "text": "About this site\n\n1 + 1\n\n[1] 2"
  },
  {
    "objectID": "LRKPM.html",
    "href": "LRKPM.html",
    "title": "LR klasiskās prognozēšanas metodes",
    "section": "",
    "text": "Autors : Kirils Volobujevs\n\n\nVienas stundas darbaspēka izmaksas pa darbības veidiem (eiro) 2005 - 2023\n\n\n\n\n\n\n\n\n\nGads\nIzmaksas\n\n\n\n\n2005\n2.19\n\n\n2006\n2.75\n\n\n2007\n3.53\n\n\n2008\n4.38\n\n\n2009\n4.28\n\n\n2010\n4.14\n\n\n2011\n4.34\n\n\n2012\n4.45\n\n\n2013\n4.78\n\n\n2014\n5.23\n\n\n2015\n5.83\n\n\n2016\n6.23\n\n\n2017\n6.65\n\n\n2018\n7.58\n\n\n2019\n8.11\n\n\n2020\n8.60\n\n\n2021\n8.75\n\n\n2022\n9.48\n\n\n2023\n10.48\n\n\n\n\n\n \n\n\n\n\n\n\n\n[1] \"Vidējā alga : 5.883 eiro/st\"\n\n\n \n\n\n[1] \"Standartnovirze: 2.371\"\n\n\n\n\n\n\nPārbaudot visus lineārās regresijas modeļus, ir jāsaprot, cik labi modelis atbilst datiem – jo lielāks ir determinācijas koeficients (R²), jo labāk regresijas modelis atbilst tālākajai analīzei.\n\n\n\n\n\nModelis\nFormula\nR²\n\n\n\n\nLineārais\ny = -823.6 + 0.41*x\n0.96\n\n\nLogaritmiskais\ny = -6303.54 + 829.33*log(x)\n0.96\n\n\nEksponenciālais\ny = exp(-147.28 + 0.07*x)\n0.95\n\n\nPakāpes\ny = exp(-1131.69 + 148.97*log(x))\n0.95\n\n\n\n\n\nKā mēs neredzam būtisku atšķirību starp lineārā un logaritmiskā modeļa determinācijas koeficientiem, es izvēlējos lineāro modeli tālākai prognozēšanai.\n\n\n\nPrognozēšanas intervāls ir konservatīvi - 5 gadi.\n\n\n\n\n\nGads\nIzmaksas\nDatu tips\nPrognoze\nLCL\nUCL\n\n\n\n\n2005\n2.19\nVēsturiskie\nNA\nNA\nNA\n\n\n2006\n2.75\nVēsturiskie\nNA\nNA\nNA\n\n\n2007\n3.53\nVēsturiskie\nNA\nNA\nNA\n\n\n2008\n4.38\nVēsturiskie\nNA\nNA\nNA\n\n\n2009\n4.28\nVēsturiskie\nNA\nNA\nNA\n\n\n2010\n4.14\nVēsturiskie\nNA\nNA\nNA\n\n\n2011\n4.34\nVēsturiskie\nNA\nNA\nNA\n\n\n2012\n4.45\nVēsturiskie\nNA\nNA\nNA\n\n\n2013\n4.78\nVēsturiskie\nNA\nNA\nNA\n\n\n2014\n5.23\nVēsturiskie\nNA\nNA\nNA\n\n\n2015\n5.83\nVēsturiskie\nNA\nNA\nNA\n\n\n2016\n6.23\nVēsturiskie\nNA\nNA\nNA\n\n\n2017\n6.65\nVēsturiskie\nNA\nNA\nNA\n\n\n2018\n7.58\nVēsturiskie\nNA\nNA\nNA\n\n\n2019\n8.11\nVēsturiskie\nNA\nNA\nNA\n\n\n2020\n8.60\nVēsturiskie\nNA\nNA\nNA\n\n\n2021\n8.75\nVēsturiskie\nNA\nNA\nNA\n\n\n2022\n9.48\nVēsturiskie\nNA\nNA\nNA\n\n\n2023\n10.48\nVēsturiskie\nNA\nNA\nNA\n\n\n2024\nNA\nPrognoze\n10.00175\n8.803\n11.201\n\n\n2025\nNA\nPrognoze\n10.41361\n9.197\n11.630\n\n\n2026\nNA\nPrognoze\n10.82547\n9.589\n12.061\n\n\n2027\nNA\nPrognoze\n11.23733\n9.981\n12.494\n\n\n2028\nNA\nPrognoze\n11.64919\n10.371\n12.928\n\n\n\n\n\n[1] \"MAPE: 115.975612\"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nLineārā modeļa formula: y = -823.60 + 0.41 * x\n\n\nR-squared: 0.956"
  },
  {
    "objectID": "LRKPM.html#patstāvīgais-darbs-par-laika-rindu-klasiskiem-prognozēšanas-modeļiem",
    "href": "LRKPM.html#patstāvīgais-darbs-par-laika-rindu-klasiskiem-prognozēšanas-modeļiem",
    "title": "Laika rindas klasisaās prognozēšanas metodes",
    "section": "",
    "text": "Vienas stundas darbaspēka izmaksas pa darbības veidiem (eiro) 2005 - 2023\n\n\n\n\n\n\n\n\n\n\n\n\nGads\nIzmaksas\n\n\n\n\n2005\n2.19\n\n\n2006\n2.75\n\n\n2007\n3.53\n\n\n2008\n4.38\n\n\n2009\n4.28\n\n\n2010\n4.14\n\n\n2011\n4.34\n\n\n2012\n4.45\n\n\n2013\n4.78\n\n\n2014\n5.23\n\n\n2015\n5.83\n\n\n2016\n6.23\n\n\n2017\n6.65\n\n\n2018\n7.58\n\n\n2019\n8.11\n\n\n2020\n8.60\n\n\n2021\n8.75\n\n\n2022\n9.48\n\n\n2023\n10.48\n\n\n\n\n\nFigure 1: Sākotnējie dati\n\n\n\n\n\n \n\n\n\n\n\n\n\n\nFigure 2: Sākotnējie dati\n\n\n\n\n\n\nTrendu izpēte\n\n\n\n\n\nModelis\nFormula\nR²\n\n\n\n\nLineārais\ny = -823.6 + 0.41*x\n0.96\n\n\nLogaritmiskais\ny = -6303.54 + 829.33*log(x)\n0.96\n\n\nEksponenciālais\ny = exp(-147.28 + 0.07*x)\n0.95\n\n\nPakāpes\ny = exp(-1131.69 + 148.97*log(x))\n0.95"
  },
  {
    "objectID": "LRKPM.html#prognozes-veidošana",
    "href": "LRKPM.html#prognozes-veidošana",
    "title": "LR klasiskās prognozēšanas metodes",
    "section": "",
    "text": "Prognozēšanas intervāls ir konservatīvi - 5 gadi.\n\n\n\n\n\nGads\nIzmaksas\nDatu tips\nPrognoze\nLCL\nUCL\n\n\n\n\n2005\n2.19\nVēsturiskie\nNA\nNA\nNA\n\n\n2006\n2.75\nVēsturiskie\nNA\nNA\nNA\n\n\n2007\n3.53\nVēsturiskie\nNA\nNA\nNA\n\n\n2008\n4.38\nVēsturiskie\nNA\nNA\nNA\n\n\n2009\n4.28\nVēsturiskie\nNA\nNA\nNA\n\n\n2010\n4.14\nVēsturiskie\nNA\nNA\nNA\n\n\n2011\n4.34\nVēsturiskie\nNA\nNA\nNA\n\n\n2012\n4.45\nVēsturiskie\nNA\nNA\nNA\n\n\n2013\n4.78\nVēsturiskie\nNA\nNA\nNA\n\n\n2014\n5.23\nVēsturiskie\nNA\nNA\nNA\n\n\n2015\n5.83\nVēsturiskie\nNA\nNA\nNA\n\n\n2016\n6.23\nVēsturiskie\nNA\nNA\nNA\n\n\n2017\n6.65\nVēsturiskie\nNA\nNA\nNA\n\n\n2018\n7.58\nVēsturiskie\nNA\nNA\nNA\n\n\n2019\n8.11\nVēsturiskie\nNA\nNA\nNA\n\n\n2020\n8.60\nVēsturiskie\nNA\nNA\nNA\n\n\n2021\n8.75\nVēsturiskie\nNA\nNA\nNA\n\n\n2022\n9.48\nVēsturiskie\nNA\nNA\nNA\n\n\n2023\n10.48\nVēsturiskie\nNA\nNA\nNA\n\n\n2024\nNA\nPrognoze\n10.00175\n8.803\n11.201\n\n\n2025\nNA\nPrognoze\n10.41361\n9.197\n11.630\n\n\n2026\nNA\nPrognoze\n10.82547\n9.589\n12.061\n\n\n2027\nNA\nPrognoze\n11.23733\n9.981\n12.494\n\n\n2028\nNA\nPrognoze\n11.64919\n10.371\n12.928\n\n\n\n\n\n[1] \"MAPE: 115.975612\""
  },
  {
    "objectID": "LRKPM.html#sākotnējie-dati",
    "href": "LRKPM.html#sākotnējie-dati",
    "title": "LR klasiskās prognozēšanas metodes",
    "section": "",
    "text": "Vienas stundas darbaspēka izmaksas pa darbības veidiem (eiro) 2005 - 2023\n\n\n\n\n\n\n\n\n\nGads\nIzmaksas\n\n\n\n\n2005\n2.19\n\n\n2006\n2.75\n\n\n2007\n3.53\n\n\n2008\n4.38\n\n\n2009\n4.28\n\n\n2010\n4.14\n\n\n2011\n4.34\n\n\n2012\n4.45\n\n\n2013\n4.78\n\n\n2014\n5.23\n\n\n2015\n5.83\n\n\n2016\n6.23\n\n\n2017\n6.65\n\n\n2018\n7.58\n\n\n2019\n8.11\n\n\n2020\n8.60\n\n\n2021\n8.75\n\n\n2022\n9.48\n\n\n2023\n10.48\n\n\n\n\n\n \n\n\n\n\n\n\n\n[1] \"Vidējā alga : 5.883 eiro/st\"\n\n\n \n\n\n[1] \"Standartnovirze: 2.371\""
  },
  {
    "objectID": "LRKPM.html#trendu-izpēte",
    "href": "LRKPM.html#trendu-izpēte",
    "title": "LR klasiskās prognozēšanas metodes",
    "section": "",
    "text": "Pārbaudot visus lineārās regresijas modeļus, ir jāsaprot, cik labi modelis atbilst datiem – jo lielāks ir determinācijas koeficients (R²), jo labāk regresijas modelis atbilst tālākajai analīzei.\n\n\n\n\n\nModelis\nFormula\nR²\n\n\n\n\nLineārais\ny = -823.6 + 0.41*x\n0.96\n\n\nLogaritmiskais\ny = -6303.54 + 829.33*log(x)\n0.96\n\n\nEksponenciālais\ny = exp(-147.28 + 0.07*x)\n0.95\n\n\nPakāpes\ny = exp(-1131.69 + 148.97*log(x))\n0.95\n\n\n\n\n\nKā mēs neredzam būtisku atšķirību starp lineārā un logaritmiskā modeļa determinācijas koeficientiem, es izvēlējos lineāro modeli tālākai prognozēšanai."
  },
  {
    "objectID": "LRKPM.html#prognozes-vizualizēšana",
    "href": "LRKPM.html#prognozes-vizualizēšana",
    "title": "LR klasiskās prognozēšanas metodes",
    "section": "",
    "text": "Lineārā modeļa formula: y = -823.60 + 0.41 * x\n\n\nR-squared: 0.956"
  },
  {
    "objectID": "LRKPM.html#dinamiskā-vizualizācija",
    "href": "LRKPM.html#dinamiskā-vizualizācija",
    "title": "LR klasiskās prognozēšanas metodes",
    "section": "",
    "text": "# Patstāvīgais darbs par laika rindu klasiskiem prognozēšanas modeļiem\n# Ielādēt nepieciešamās bibliotēkas (nokomentēts, lai norādītu nepieciešamo)\n\nlibrary(forecast)\nlibrary(tidyverse)\nlibrary(ggrepel) \nlibrary(dygraphs)\nlibrary(tibble)\nlibrary(knitr)\nlibrary(xts)\n\n# Izveidojiet datu rāmi ar sākotnējiem datiem\ndarba_izmaksas &lt;- data.frame(\n  Gads = 2005:2023, # Gadu diapazons\n  Izmaksas = c(2.19, 2.75, 3.53, 4.38, 4.28, 4.14, 4.34, 4.45, 4.78,\n               5.23, 5.83, 6.23, 6.65, 7.58, 8.11, 8.60, 8.75, 9.48, 10.48),\n  Datu_tips = \"Vēsturiskie\",\n  Prognoze = NA,\n  LCL = NA,\n  UCL = NA\n)\n\n\n# Nodrošināt, ka kolonnas ir skaitliskas\ndarba_izmaksas$Gads &lt;- as.numeric(darba_izmaksas$Gads)\nsakuma_dati&lt;- tibble(darba_izmaksas)\n\n\n## Sākotnējie dati\n#(https://data.stat.gov.lv/pxweb/lv/OSP_PUB/START__EMP__DI__DIS/DIS010/)\n\n# Sākotnējo datu vizualizācija\nkable(sakuma_dati[c(\"Gads\", \"Izmaksas\")], col.names = c(\"Gads\", \"Izmaksas\"), align = \"l\")\nggplot(darba_izmaksas, aes(x = Gads)) +\n  labs(\n    title = \"Darbaspēka izmaksu vēsturiskie dati\",\n    x = \"Gads\", \n    y = \"Izmaksas (eiro/st)\", \n  ) +\n  geom_line(aes(y = Izmaksas, color = \"Vēsturiskie dati\"), linewidth = 1)\n## Trendu izpēte\n\n# Lineārais modelis\nlin_mod &lt;- lm(Izmaksas ~ Gads, data = darba_izmaksas)\n\n# Logaritmiskais modelis\nlog_mod &lt;- lm(Izmaksas ~ log(Gads), data = darba_izmaksas)\n\n# Eksponenciālais modelis\nexp_mod &lt;- lm(log(Izmaksas) ~ Gads, data = darba_izmaksas)\n\n# Pakāpes modelis\npower_mod &lt;- lm(log(Izmaksas) ~ log(Gads), data = darba_izmaksas)\n\n# Trendu attēlošanas Tabula ar modeļiem un R^2 vērtībām\ntrend_table &lt;- data.frame(\n  Modelis = c(\"Lineārais\", \"Logaritmiskais\", \"Eksponenciālais\", \"Pakāpes\"),\n  Formula = c(\n    paste0(\"y = \", round(coef(lin_mod)[1], 2), \" + \", round(coef(lin_mod)[2], 2), \"*x\"),\n    paste0(\"y = \", round(coef(log_mod)[1], 2), \" + \", round(coef(log_mod)[2], 2), \"*log(x)\"),\n    paste0(\"y = exp(\", round(coef(exp_mod)[1], 2), \" + \", round(coef(exp_mod)[2], 2), \"*x)\"),\n    paste0(\"y = exp(\", round(coef(power_mod)[1], 2), \" + \", round(coef(power_mod)[2], 2), \"*log(x))\")\n  ),\n  R2 = c(summary(lin_mod)$r.squared, \n         summary(log_mod)$r.squared, \n         summary(exp_mod)$r.squared, \n         summary(power_mod)$r.squared)\n)\n# Noapaļo R2 \ntrend_table$R2 &lt;- round(trend_table$R2, 2)\n\n# tabulas attēlošana\ntrend_table_tibble &lt;- tibble(trend_table)\nkable(trend_table_tibble, col.names = c(\"Modelis\", \"Formula\", \"R²\"), align = \"l\")\n\n\n## Prognozes veidošana\n# Prognoze nākamajiem 5 gadiem ar ticamības intervāliem\n# Izveidojam jaunu tabulu, priekš prognozes\nforecast_years &lt;- data.frame(\n  Gads = 2024:2028,\n  Prognoze = predict(lin_mod, newdata = data.frame(Gads = 2024:2028)),\n  Izmaksas = NA,\n  Datu_tips = \"Prognoze\"\n)\n\n# Papildināt ar ticamības intervāliem\nforecast_result &lt;- round(predict(lin_mod, newdata = data.frame(Gads = 2024:2028), interval = \"prediction\", level = 0.95), 3)\n\nforecast_years$LCL &lt;- round(forecast_result[, \"lwr\"], 3)\nforecast_years$UCL &lt;- round(forecast_result[, \"upr\"], 3)\n\n# Apvienot sākotnējos datus ar prognozi\npilns_datu_rāmis &lt;- rbind(darba_izmaksas, forecast_years)\n\n# Izvadīt pilno datu rāmi\npilns_datu_rāmis_tibble &lt;- tibble(pilns_datu_rāmis)\nkable(pilns_datu_rāmis_tibble, col.names = c(\"Gads\", \"Izmaksas\", \"Datu tips\", \"Prognoze\", \"LCL\", \"UCL\"), align = \"l\")\n\n## Prognozes vizualizēšana\n\n# Iegūt lineārā modeļa koeficientus\nintercept &lt;- coef(lin_mod)[1]\nslope &lt;- coef(lin_mod)[2]\n\n# Vizualizācija ar ggplot2\nggplot(pilns_datu_rāmis, aes(x = Gads)) +\n  # Ticamības intervāli\n  geom_ribbon(aes(ymin = LCL, ymax = UCL), alpha = 0.2, fill = \"blue\") +\n  \n  # Vēsturiskie dati līnija\n  geom_line(aes(y = Izmaksas, color = \"Vēsturiskie dati\"), size = 1) +\n  geom_point(aes(y = Izmaksas, color = \"Vēsturiskie dati\"), size = 2, shape = 16) +\n  \n  # Prognozes līnija\n  geom_line(aes(y = Prognoze, color = \"Prognoze\"), linetype = \"dashed\", size = 1) +\n  geom_point(aes(y = Prognoze, color = \"Prognoze\"), size = 2, shape = 17) +\n  \n  \n  # Līnijas stilizācija\n  scale_color_manual(\n    values = c(\"Vēsturiskie dati\" = \"#1F77B4\", \"Prognoze\" = \"#FF7F0E\"),\n    name = \"Datu tips\"\n  ) +\n  \n  # Virsraksts un etiķetes\n  labs(\n    title = \"Darbaspēka izmaksu vēsturiskie dati un prognoze\",\n    subtitle = bquote(bold(\"Lineārā modeļa formula:\") ~ italic(y) == .(round(intercept, 2)) + .(round(slope, 2)) * italic(x)),\n    x = \"Gads\", \n    y = \"Izmaksas (eiro)\", \n    caption = bquote(bold(\"R2:\") ~ .(round(summary(lin_mod)$r.squared, 3)))\n  ) +\n  \n  \n  # Tēma\n  theme_minimal() +\n  theme(\n    legend.position = \"bottom\",\n    plot.title = element_text(hjust = 0.5, face = \"bold\"),\n    plot.subtitle = element_text(hjust = 0.5),\n    panel.grid.minor = element_line(color = \"lightgray\", linetype = \"dotted\")\n  ) +\n  # Y ass sadalījums\n  scale_y_continuous(breaks = seq(1, 12, by = 1)) +\n  # X ass sadalījums\n  scale_x_continuous(breaks = seq(2005, 2028, by = 3))\n# Izvadīt papildus informāciju konsoles izvadē\ncat(sprintf(\"Lineārā modeļa formula: y = %.2f + %.2f * x\\n\", intercept, slope))\ncat(sprintf(\"R-squared: %.3f\\n\", summary(lin_mod)$r.squared))\n\n\n## Dinamiskā vizualizācija\n\ntime_series_data &lt;- xts(\n  pilns_datu_rāmis[, c(\"Izmaksas\", \"Prognoze\", \"LCL\", \"UCL\")],\n  order.by = as.Date(paste(pilns_datu_rāmis$Gads, \"-01-01\", sep = \"\"))  # Ensure Gads is treated as a Date\n)\n\n# izveidojam interaktīvu grafiku\ndygraph(time_series_data, main = \"Darbaspēka izmaksu vēsturiskie dati un prognoze\") %&gt;%\n  dySeries(\"LCL\", label = \"LCL\", color = \"blue\", strokeWidth = 1) %&gt;%\n  dySeries(\"Izmaksas\", label = \"Vēsturiskie dati\", color = \"#1F77B4\") %&gt;%\n  dySeries(\"UCL\", label = \"UCL\", color = \"blue\", strokeWidth = 1) %&gt;%\n  \n  # pievienojam prognozes datus\n  dySeries(\"Prognoze\", label = \"Prognoze\", color = \"#FF7F0E\", strokePattern = \"dashed\") %&gt;%\n  \n  # izmanām ašu informāciju\n  dyAxis(\"x\", label = \"Gads\") %&gt;%\n  dyAxis(\"y\", label = \"Izmaksas (eiro/st)\") %&gt;%\n  \n  # leģendas stilizācija\n  dyLegend(show = \"always\", hideOnMouseOut = FALSE) %&gt;%\n  dyOptions(\n    fillGraph = FALSE,\n    drawGrid = TRUE\n  )"
  },
  {
    "objectID": "regr.html",
    "href": "regr.html",
    "title": "LR prognozēšanu ar regresijas modeļiem",
    "section": "",
    "text": "Autors : Kirils Volobujevs\n\n\nVienas stundas darbaspēka izmaksas pa darbības veidiem (eiro) 2005 - 2023\nIekšzemes kopprodukts pavisam, uz vienu iedzīvotāju un uz vienu nodarbināto 1995 - 2023\n\n\nCode\n# Ielādējam nepieciešamās bibliotēkas\nlibrary(stats)\nlibrary(forecast)\nlibrary(knitr)\nlibrary(kableExtra)\nlibrary(ggplot2)\nlibrary(dplyr)\nlibrary(patchwork) \nlibrary(hrbrthemes)\nlibrary(dygraphs)\nlibrary(xts)\nlibrary(zoo)\n\n\n# Ielādējam nepieciešamos datus\ndi &lt;- data.frame(\n  year = 2014:2023,\n  di_value = c(5.23, 5.83, 6.23, 6.65, 7.58, 8.11, 8.60, 8.75, 9.48, 10.48)\n)\n\nikp &lt;- data.frame(\n  year = 2014:2023,\n  ikp_value = c(22791, 23744, 24498, 26017, 28153, 29567, 29224, 32285, 36104, 39072)\n)\n\n# Apvienojam tabulas vadities pēc gada\nmerged_data &lt;- merge(di, ikp, by = \"year\")\n# Kombinētā grafika koeficients\ncoeff &lt;- 3500\n\n\n\n\nCode\n# 1. Aprakstošā statistika\n# tabulas vizualizācijas\nmerged_data %&gt;%\n  kbl(\n    caption = paste0(\"Darbaspēka izmaksas un IKP vērtības pēc gadiem\"),\n    col.names = c(\"Gads\", \"Darba izmaksas\", \"IKP\")\n  ) %&gt;%\n  kable_styling() \n\n\n\nDarbaspēka izmaksas un IKP vērtības pēc gadiem\n\n\nGads\nDarba izmaksas\nIKP\n\n\n\n\n2014\n5.23\n22791\n\n\n2015\n5.83\n23744\n\n\n2016\n6.23\n24498\n\n\n2017\n6.65\n26017\n\n\n2018\n7.58\n28153\n\n\n2019\n8.11\n29567\n\n\n2020\n8.60\n29224\n\n\n2021\n8.75\n32285\n\n\n2022\n9.48\n36104\n\n\n2023\n10.48\n39072\n\n\n\n\n\n\n\nCode\n# sākotnējais grafiks\nggplot(merged_data, aes(x=year)) + \n  geom_line(aes(y=di_value),color=\"#69b3a2\", size=2 )+\n  geom_line(aes(y=ikp_value/coeff),color=\"grey\", size=2 )+\n              scale_y_continuous(\n                name = \"Darbaspēka izmaksas\",\n                # Add a second axis and specify its features\n               sec.axis = sec_axis(~.*coeff, name=\"IKP\")\n              )+\n    theme_ipsum() +\n    theme(\n    axis.title.y = element_text(color = \"#69b3a2\", size=13),\n    axis.title.y.right = element_text(color = \"grey\", size=13)\n  ) +\n  ggtitle(\"Darbaspēka izmaksas un IKP vērtības pēc gadiem\")+\n  labs(caption = paste0(\"IKP tiek attēlots mērogā 1:\", coeff))\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nCode\n# Korelācijas aprēķins un attēlošana\ncorrelation_result &lt;- cor(merged_data$di_value, merged_data$ikp_value)\ncat(\"Korelācijas koeficiets : \",round(correlation_result,3))\n\n\nKorelācijas koeficiets :  0.972\n\n\nCode\nscatter_plot &lt;- ggplot(merged_data, aes(x = ikp_value, y = di_value)) +\n  geom_point(color = \"blue\") +\n  geom_smooth(method = \"lm\", color = \"red\") +\n  labs(\n    title = \"DI Value vs IKP Value\",\n    x = \"IKP Value\",\n    y = \"DI Value\",\n    caption = paste(\"Correlation:\", round(correlation_result, 3))\n  ) +\n  theme_minimal()\nprint(scatter_plot)\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nRegresijas modeļa analīze:\n\n\n------------------------\n\n\nAtakarīgais mainīgais: Darba izmaksas\n\n\nNeotkarīgais mainīgais: IKP\n\n\n------------------------\n\n\nKoeficienti:\n\n\nIntercept: -1.2609 (p-value: 0.141 )\n\n\nSlope: 3e-04 (p-value: 0 )\n\n\n------------------------\n\n\nModel Fit:\n\n\nR-squared: 0.9455 \n\n\nAdjusted R-squared: 0.9387 \n\n\nF-statistic: 138.7025 on 1 and 8 DF\n\n\np-value: 0 \n\n\n\n\n\n\n\nCode\n# ANOVA \nanova_result &lt;- anova(regression_model)\ncat(\"ANOVA rezultāts darba izmaksu un IKP regresijai:\")\n\n\nANOVA rezultāts darba izmaksu un IKP regresijai:\n\n\nCode\nanova_result\n\n\nAnalysis of Variance Table\n\nResponse: di_value\n          Df  Sum Sq Mean Sq F value    Pr(&gt;F)    \nikp_value  1 24.4428 24.4428   138.7 2.473e-06 ***\nResiduals  8  1.4098  0.1762                      \n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\n\n\nCode\n# Normal Probability Plot\nggplot(data = data.frame(residuals = rstandard(regression_model)), aes(sample = residuals)) +\n  stat_qq() +\n  stat_qq_line(color = \"red\") +\n  labs(title = \"Normal Probability Plot\")\n# Density Plot for DI vlues\n  ggplot(merged_data, aes(x = di_value)) +\n  geom_density(fill = \"lightblue\", alpha = 0.5) +\n  labs(title = \"Probability Density of DI\", x = \"IKP Value\", y = \"Density\") +\n  theme_minimal()\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nPrognozes veidošanai tiek izveidotas izmantot regresijas modelis un prognozētās IKP vērtības]\nPrognozēšanas intervāls ir konservatīvi - 5 gadi.\n\n\nCode\n# IKP lineārā prognozēšana\nfuture_years &lt;- data.frame(year = 2024:2028)\nikp_model &lt;- lm(ikp_value ~ year, data = ikp)\nfuture_ikp_values &lt;- predict(ikp_model, newdata = future_years, interval = \"confidence\")\n\n# Inicializējam prognozes tabulu\nfuture_data &lt;- data.frame(\n  year = future_years$year,\n  ikp_value = future_ikp_values[, \"fit\"],   # Predicted ikp values\n  Lower_CI_IKP = future_ikp_values[, \"lwr\"],    # Lower confidence interval\n  Upper_CI_IKP = future_ikp_values[, \"upr\"]     # Upper confidence interval\n)\n\n# Izmantojot regresijas modeli, prognozējam DI vērtības\nforecast &lt;- predict(regression_model, newdata = future_data, interval = \"confidence\")\n\n# Apvienojam prognozes tabulu ar prognozi\nforecast_results &lt;- cbind(future_data, forecast)\n\n# Aizpildām prognozes tabulu\nforecast_df &lt;- data.frame(\n  Year = c(ikp$year, future_data$year),\n  Forecast = c(di$di_value, forecast_results[, \"fit\"]),\n  Lower_CI = c(rep(NA, nrow(di)), forecast_results[, \"lwr\"]),\n  Upper_CI = c(rep(NA, nrow(di)), forecast_results[, \"upr\"]),\n  IKP_Value = c(ikp$ikp_value, future_data$ikp_value),\n  IKP_Lower_CI = c(rep(NA, nrow(di)), future_data$Lower_CI_IKP),\n  IKP_Upper_CI = c(rep(NA, nrow(di)), future_data$Upper_CI_IKP)\n)\n\n\n# Vizualizējam tabulu\nforecast_df %&gt;%\n  kbl(\n    caption = \"Darbaspēka izmaksas prognoze ar lineārās regresijas modeli\", \n    col.names = c(\"Gads\", \"DI Prognoze\", \"DI LCL\", \"DI UCL\", \"IKP\", \"IKP LCL\", \"IKP UCL\"),\n    format.args = list(decimal.mark = \",\", big.mark = \" \"),\n    digits = 2\n  ) %&gt;%\n  kable_styling(\n    bootstrap_options = c(\"striped\", \"hover\", \"condensed\", \"responsive\"),\n    full_width = FALSE,\n    position = \"center\"\n  ) %&gt;%\n  row_spec(0, bold = TRUE, color = \"white\", background = \"#4E79A7\") %&gt;%\n  column_spec(1, bold = TRUE) %&gt;%\n  add_header_above(\n    c(\" \" = 1, \"Darbaspēka izmaksas\" = 3, \"IKP\" = 3)\n  )\n\n\n\n\nDarbaspēka izmaksas prognoze ar lineārās regresijas modeli\n\n\n\n\n\n\n\n\n\n\n\n\n\nDarbaspēka izmaksas\n\n\nIKP\n\n\n\nGads\nDI Prognoze\nDI LCL\nDI UCL\nIKP\nIKP LCL\nIKP UCL\n\n\n\n\n2 014\n5,23\nNA\nNA\n22 791,00\nNA\nNA\n\n\n2 015\n5,83\nNA\nNA\n23 744,00\nNA\nNA\n\n\n2 016\n6,23\nNA\nNA\n24 498,00\nNA\nNA\n\n\n2 017\n6,65\nNA\nNA\n26 017,00\nNA\nNA\n\n\n2 018\n7,58\nNA\nNA\n28 153,00\nNA\nNA\n\n\n2 019\n8,11\nNA\nNA\n29 567,00\nNA\nNA\n\n\n2 020\n8,60\nNA\nNA\n29 224,00\nNA\nNA\n\n\n2 021\n8,75\nNA\nNA\n32 285,00\nNA\nNA\n\n\n2 022\n9,48\nNA\nNA\n36 104,00\nNA\nNA\n\n\n2 023\n10,48\nNA\nNA\n39 072,00\nNA\nNA\n\n\n2 024\n10,59\n9,95\n11,24\n38 579,47\n36 337,94\n40 820,99\n\n\n2 025\n11,12\n10,38\n11,86\n40 294,73\n37 727,54\n42 861,93\n\n\n2 026\n11,65\n10,81\n12,48\n42 010,00\n39 108,70\n44 911,30\n\n\n2 027\n12,17\n11,24\n13,10\n43 725,27\n40 484,03\n46 966,51\n\n\n2 028\n12,70\n11,67\n13,73\n45 440,53\n41 855,19\n49 025,88\n\n\n\n\n\n\n\n\n\n\nCode\n# Prognozes vizualizācija funkcijas izveidošana\nplot_forecast &lt;- function(forecast_df) {\n  # Atdalām vēstures un prognozes datus\n  historical_data &lt;- forecast_df %&gt;% filter(is.na(Lower_CI))\n  future_data &lt;- forecast_df %&gt;% filter(!is.na(Lower_CI))\n  \n \n  ggplot() +\n    # Attēlojam vēsturiskos datus\n    geom_point(data = historical_data, \n               aes(x = Year, y = Forecast), \n               color = \"blue\", \n               size = 3) +\n    \n    # Punkti prognozes\n    geom_point(data = future_data, \n               aes(x = Year, y = Forecast), \n               color = \"red\", \n               size = 3) +\n    \n    # prognozes līnija\n    geom_line(data = forecast_df, \n              aes(x = Year, y = Forecast), \n              color = \"red\", \n              linetype = \"dashed\") +\n    \n    # Ticamības intervāls\n    geom_ribbon(data = future_data, \n                aes(x = Year, ymin = Lower_CI, ymax = Upper_CI), \n                alpha = 0.2, \n                fill = \"red\") +\n    \n    # Pievienojam labelus un leģendu\n    labs(\n      title = \"Darba izmaksu prognoze\",\n      x = \"Gads\",\n      y = \"Prognoze\",\n      caption = \"Zilie punkti: vēsturiskie dati\\nSarkanie punkti: Prognozes dati\\nSarkanā lenta: 95% Ticamības intervāls\"\n    ) +\n    \n    theme_minimal() +\n    theme(\n      plot.title = element_text(hjust = 0.5, face = \"bold\"),\n      plot.caption = element_text(hjust = 0, face = \"italic\")\n    )\n}\n\n# Prognozes funkcijas izsaukšana\nforecast_plot &lt;- plot_forecast(forecast_df)\n\n# Grafika vizualizācija\nprint(forecast_plot)\n\n\n\n\n\n\n\n\n\n\n\nCode\n# Interatīvā grafika veidošana\nprepare_dygraph_data &lt;- function(forecast_df) {\n  \n  historical_data &lt;- forecast_df[is.na(forecast_df$Lower_CI), ]\n  future_data &lt;- forecast_df[!is.na(forecast_df$Lower_CI), ]\n  \n  \n  full_data &lt;- data.frame(\n    Year = c(historical_data$Year, future_data$Year),\n    Izmaksas = c(historical_data$Forecast, rep(NA, nrow(future_data))),\n    Prognoze = c(rep(NA, nrow(historical_data)), future_data$Forecast),\n    LCL = c(rep(NA, nrow(historical_data)), future_data$Lower_CI),\n    UCL = c(rep(NA, nrow(historical_data)), future_data$Upper_CI)\n  )\n  \n  \n  time_series_data &lt;- xts(\n    x = full_data[, c(\"Izmaksas\", \"Prognoze\", \"LCL\", \"UCL\")], \n    order.by = as.Date(paste0(full_data$Year, \"-01-01\"))\n  )\n  \n \n  dygraph(time_series_data, main = \"Darbaspēka izmaksu vēsturiskie dati un prognoze\") %&gt;%\n    dySeries(\"Izmaksas\", label = \"Vēsturiskie dati\", color = \"#1F77B4\") %&gt;%\n    dySeries(\"Prognoze\", label = \"Prognoze\", color = \"#FF7F0E\", strokePattern = \"dashed\") %&gt;%\n    dySeries(\"LCL\", label = \"Apakšējā ticamības robeža\", color = \"blue\", strokeWidth = 1) %&gt;%\n    dySeries(\"UCL\", label = \"Augšējā ticamības robeža\", color = \"blue\", strokeWidth = 1) %&gt;%\n    \n    \n    dyAxis(\"x\", label = \"Gads\") %&gt;%\n    dyAxis(\"y\", label = \"Izmaksas (eiro/st)\") %&gt;%\n    \n    \n    dyLegend(show = \"always\", hideOnMouseOut = FALSE) %&gt;%\n    dyOptions(\n      fillGraph = FALSE,\n      drawGrid = TRUE\n    ) %&gt;%\n    dyRangeSelector()\n}\n\n\nforecast_dygraph &lt;- prepare_dygraph_data(forecast_df)\n\n\nforecast_dygraph"
  },
  {
    "objectID": "regr.html#sākotnējie-dati",
    "href": "regr.html#sākotnējie-dati",
    "title": "LR prognozēšanu ar regresijas modeļiem",
    "section": "",
    "text": "Vienas stundas darbaspēka izmaksas pa darbības veidiem (eiro) 2005 - 2023\nIekšzemes kopprodukts pavisam, uz vienu iedzīvotāju un uz vienu nodarbināto 1995 - 2023\n\n\nCode\n# Ielādējam nepieciešamās bibliotēkas\nlibrary(stats)\nlibrary(forecast)\nlibrary(knitr)\nlibrary(kableExtra)\nlibrary(ggplot2)\nlibrary(dplyr)\nlibrary(patchwork) \nlibrary(hrbrthemes)\nlibrary(dygraphs)\nlibrary(xts)\nlibrary(zoo)\n\n\n# Ielādējam nepieciešamos datus\ndi &lt;- data.frame(\n  year = 2014:2023,\n  di_value = c(5.23, 5.83, 6.23, 6.65, 7.58, 8.11, 8.60, 8.75, 9.48, 10.48)\n)\n\nikp &lt;- data.frame(\n  year = 2014:2023,\n  ikp_value = c(22791, 23744, 24498, 26017, 28153, 29567, 29224, 32285, 36104, 39072)\n)\n\n# Apvienojam tabulas vadities pēc gada\nmerged_data &lt;- merge(di, ikp, by = \"year\")\n# Kombinētā grafika koeficients\ncoeff &lt;- 3500\n\n\n\n\nCode\n# 1. Aprakstošā statistika\n# tabulas vizualizācijas\nmerged_data %&gt;%\n  kbl(\n    caption = paste0(\"Darbaspēka izmaksas un IKP vērtības pēc gadiem\"),\n    col.names = c(\"Gads\", \"Darba izmaksas\", \"IKP\")\n  ) %&gt;%\n  kable_styling() \n\n\n\nDarbaspēka izmaksas un IKP vērtības pēc gadiem\n\n\nGads\nDarba izmaksas\nIKP\n\n\n\n\n2014\n5.23\n22791\n\n\n2015\n5.83\n23744\n\n\n2016\n6.23\n24498\n\n\n2017\n6.65\n26017\n\n\n2018\n7.58\n28153\n\n\n2019\n8.11\n29567\n\n\n2020\n8.60\n29224\n\n\n2021\n8.75\n32285\n\n\n2022\n9.48\n36104\n\n\n2023\n10.48\n39072\n\n\n\n\n\n\n\nCode\n# sākotnējais grafiks\nggplot(merged_data, aes(x=year)) + \n  geom_line(aes(y=di_value),color=\"#69b3a2\", size=2 )+\n  geom_line(aes(y=ikp_value/coeff),color=\"grey\", size=2 )+\n              scale_y_continuous(\n                name = \"Darbaspēka izmaksas\",\n                # Add a second axis and specify its features\n               sec.axis = sec_axis(~.*coeff, name=\"IKP\")\n              )+\n    theme_ipsum() +\n    theme(\n    axis.title.y = element_text(color = \"#69b3a2\", size=13),\n    axis.title.y.right = element_text(color = \"grey\", size=13)\n  ) +\n  ggtitle(\"Darbaspēka izmaksas un IKP vērtības pēc gadiem\")+\n  labs(caption = paste0(\"IKP tiek attēlots mērogā 1:\", coeff))"
  },
  {
    "objectID": "regr.html#datu-analīze",
    "href": "regr.html#datu-analīze",
    "title": "LR prognozēšanu ar regresijas modeļiem",
    "section": "",
    "text": "Code\n# Korelācijas aprēķins un attēlošana\ncorrelation_result &lt;- cor(merged_data$di_value, merged_data$ikp_value)\ncat(\"Korelācijas koeficiets : \",round(correlation_result,3))\n\n\nKorelācijas koeficiets :  0.972\n\n\nCode\nscatter_plot &lt;- ggplot(merged_data, aes(x = ikp_value, y = di_value)) +\n  geom_point(color = \"blue\") +\n  geom_smooth(method = \"lm\", color = \"red\") +\n  labs(\n    title = \"DI Value vs IKP Value\",\n    x = \"IKP Value\",\n    y = \"DI Value\",\n    caption = paste(\"Correlation:\", round(correlation_result, 3))\n  ) +\n  theme_minimal()\nprint(scatter_plot)\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nRegresijas modeļa analīze:\n\n\n------------------------\n\n\nAtakarīgais mainīgais: Darba izmaksas\n\n\nNeotkarīgais mainīgais: IKP\n\n\n------------------------\n\n\nKoeficienti:\n\n\nIntercept: -1.2609 (p-value: 0.141 )\n\n\nSlope: 3e-04 (p-value: 0 )\n\n\n------------------------\n\n\nModel Fit:\n\n\nR-squared: 0.9455 \n\n\nAdjusted R-squared: 0.9387 \n\n\nF-statistic: 138.7025 on 1 and 8 DF\n\n\np-value: 0 \n\n\n\n\n\n\n\nCode\n# ANOVA \nanova_result &lt;- anova(regression_model)\ncat(\"ANOVA rezultāts darba izmaksu un IKP regresijai:\")\n\n\nANOVA rezultāts darba izmaksu un IKP regresijai:\n\n\nCode\nanova_result\n\n\nAnalysis of Variance Table\n\nResponse: di_value\n          Df  Sum Sq Mean Sq F value    Pr(&gt;F)    \nikp_value  1 24.4428 24.4428   138.7 2.473e-06 ***\nResiduals  8  1.4098  0.1762                      \n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\n\n\nCode\n# Normal Probability Plot\nggplot(data = data.frame(residuals = rstandard(regression_model)), aes(sample = residuals)) +\n  stat_qq() +\n  stat_qq_line(color = \"red\") +\n  labs(title = \"Normal Probability Plot\")\n# Density Plot for DI vlues\n  ggplot(merged_data, aes(x = di_value)) +\n  geom_density(fill = \"lightblue\", alpha = 0.5) +\n  labs(title = \"Probability Density of DI\", x = \"IKP Value\", y = \"Density\") +\n  theme_minimal()"
  },
  {
    "objectID": "regr.html#prognozes-veidošana",
    "href": "regr.html#prognozes-veidošana",
    "title": "LR prognozēšanu ar regresijas modeļiem",
    "section": "",
    "text": "Prognozes veidošanai tiek izveidotas izmantot regresijas modelis un prognozētās IKP vērtības]\nPrognozēšanas intervāls ir konservatīvi - 5 gadi.\n\n\nCode\n# IKP lineārā prognozēšana\nfuture_years &lt;- data.frame(year = 2024:2028)\nikp_model &lt;- lm(ikp_value ~ year, data = ikp)\nfuture_ikp_values &lt;- predict(ikp_model, newdata = future_years, interval = \"confidence\")\n\n# Inicializējam prognozes tabulu\nfuture_data &lt;- data.frame(\n  year = future_years$year,\n  ikp_value = future_ikp_values[, \"fit\"],   # Predicted ikp values\n  Lower_CI_IKP = future_ikp_values[, \"lwr\"],    # Lower confidence interval\n  Upper_CI_IKP = future_ikp_values[, \"upr\"]     # Upper confidence interval\n)\n\n# Izmantojot regresijas modeli, prognozējam DI vērtības\nforecast &lt;- predict(regression_model, newdata = future_data, interval = \"confidence\")\n\n# Apvienojam prognozes tabulu ar prognozi\nforecast_results &lt;- cbind(future_data, forecast)\n\n# Aizpildām prognozes tabulu\nforecast_df &lt;- data.frame(\n  Year = c(ikp$year, future_data$year),\n  Forecast = c(di$di_value, forecast_results[, \"fit\"]),\n  Lower_CI = c(rep(NA, nrow(di)), forecast_results[, \"lwr\"]),\n  Upper_CI = c(rep(NA, nrow(di)), forecast_results[, \"upr\"]),\n  IKP_Value = c(ikp$ikp_value, future_data$ikp_value),\n  IKP_Lower_CI = c(rep(NA, nrow(di)), future_data$Lower_CI_IKP),\n  IKP_Upper_CI = c(rep(NA, nrow(di)), future_data$Upper_CI_IKP)\n)\n\n\n# Vizualizējam tabulu\nforecast_df %&gt;%\n  kbl(\n    caption = \"Darbaspēka izmaksas prognoze ar lineārās regresijas modeli\", \n    col.names = c(\"Gads\", \"DI Prognoze\", \"DI LCL\", \"DI UCL\", \"IKP\", \"IKP LCL\", \"IKP UCL\"),\n    format.args = list(decimal.mark = \",\", big.mark = \" \"),\n    digits = 2\n  ) %&gt;%\n  kable_styling(\n    bootstrap_options = c(\"striped\", \"hover\", \"condensed\", \"responsive\"),\n    full_width = FALSE,\n    position = \"center\"\n  ) %&gt;%\n  row_spec(0, bold = TRUE, color = \"white\", background = \"#4E79A7\") %&gt;%\n  column_spec(1, bold = TRUE) %&gt;%\n  add_header_above(\n    c(\" \" = 1, \"Darbaspēka izmaksas\" = 3, \"IKP\" = 3)\n  )\n\n\n\n\nDarbaspēka izmaksas prognoze ar lineārās regresijas modeli\n\n\n\n\n\n\n\n\n\n\n\n\n\nDarbaspēka izmaksas\n\n\nIKP\n\n\n\nGads\nDI Prognoze\nDI LCL\nDI UCL\nIKP\nIKP LCL\nIKP UCL\n\n\n\n\n2 014\n5,23\nNA\nNA\n22 791,00\nNA\nNA\n\n\n2 015\n5,83\nNA\nNA\n23 744,00\nNA\nNA\n\n\n2 016\n6,23\nNA\nNA\n24 498,00\nNA\nNA\n\n\n2 017\n6,65\nNA\nNA\n26 017,00\nNA\nNA\n\n\n2 018\n7,58\nNA\nNA\n28 153,00\nNA\nNA\n\n\n2 019\n8,11\nNA\nNA\n29 567,00\nNA\nNA\n\n\n2 020\n8,60\nNA\nNA\n29 224,00\nNA\nNA\n\n\n2 021\n8,75\nNA\nNA\n32 285,00\nNA\nNA\n\n\n2 022\n9,48\nNA\nNA\n36 104,00\nNA\nNA\n\n\n2 023\n10,48\nNA\nNA\n39 072,00\nNA\nNA\n\n\n2 024\n10,59\n9,95\n11,24\n38 579,47\n36 337,94\n40 820,99\n\n\n2 025\n11,12\n10,38\n11,86\n40 294,73\n37 727,54\n42 861,93\n\n\n2 026\n11,65\n10,81\n12,48\n42 010,00\n39 108,70\n44 911,30\n\n\n2 027\n12,17\n11,24\n13,10\n43 725,27\n40 484,03\n46 966,51\n\n\n2 028\n12,70\n11,67\n13,73\n45 440,53\n41 855,19\n49 025,88\n\n\n\n\n\n\n\n\n\n\nCode\n# Prognozes vizualizācija funkcijas izveidošana\nplot_forecast &lt;- function(forecast_df) {\n  # Atdalām vēstures un prognozes datus\n  historical_data &lt;- forecast_df %&gt;% filter(is.na(Lower_CI))\n  future_data &lt;- forecast_df %&gt;% filter(!is.na(Lower_CI))\n  \n \n  ggplot() +\n    # Attēlojam vēsturiskos datus\n    geom_point(data = historical_data, \n               aes(x = Year, y = Forecast), \n               color = \"blue\", \n               size = 3) +\n    \n    # Punkti prognozes\n    geom_point(data = future_data, \n               aes(x = Year, y = Forecast), \n               color = \"red\", \n               size = 3) +\n    \n    # prognozes līnija\n    geom_line(data = forecast_df, \n              aes(x = Year, y = Forecast), \n              color = \"red\", \n              linetype = \"dashed\") +\n    \n    # Ticamības intervāls\n    geom_ribbon(data = future_data, \n                aes(x = Year, ymin = Lower_CI, ymax = Upper_CI), \n                alpha = 0.2, \n                fill = \"red\") +\n    \n    # Pievienojam labelus un leģendu\n    labs(\n      title = \"Darba izmaksu prognoze\",\n      x = \"Gads\",\n      y = \"Prognoze\",\n      caption = \"Zilie punkti: vēsturiskie dati\\nSarkanie punkti: Prognozes dati\\nSarkanā lenta: 95% Ticamības intervāls\"\n    ) +\n    \n    theme_minimal() +\n    theme(\n      plot.title = element_text(hjust = 0.5, face = \"bold\"),\n      plot.caption = element_text(hjust = 0, face = \"italic\")\n    )\n}\n\n# Prognozes funkcijas izsaukšana\nforecast_plot &lt;- plot_forecast(forecast_df)\n\n# Grafika vizualizācija\nprint(forecast_plot)\n\n\n\n\n\n\n\n\n\n\n\nCode\n# Interatīvā grafika veidošana\nprepare_dygraph_data &lt;- function(forecast_df) {\n  \n  historical_data &lt;- forecast_df[is.na(forecast_df$Lower_CI), ]\n  future_data &lt;- forecast_df[!is.na(forecast_df$Lower_CI), ]\n  \n  \n  full_data &lt;- data.frame(\n    Year = c(historical_data$Year, future_data$Year),\n    Izmaksas = c(historical_data$Forecast, rep(NA, nrow(future_data))),\n    Prognoze = c(rep(NA, nrow(historical_data)), future_data$Forecast),\n    LCL = c(rep(NA, nrow(historical_data)), future_data$Lower_CI),\n    UCL = c(rep(NA, nrow(historical_data)), future_data$Upper_CI)\n  )\n  \n  \n  time_series_data &lt;- xts(\n    x = full_data[, c(\"Izmaksas\", \"Prognoze\", \"LCL\", \"UCL\")], \n    order.by = as.Date(paste0(full_data$Year, \"-01-01\"))\n  )\n  \n \n  dygraph(time_series_data, main = \"Darbaspēka izmaksu vēsturiskie dati un prognoze\") %&gt;%\n    dySeries(\"Izmaksas\", label = \"Vēsturiskie dati\", color = \"#1F77B4\") %&gt;%\n    dySeries(\"Prognoze\", label = \"Prognoze\", color = \"#FF7F0E\", strokePattern = \"dashed\") %&gt;%\n    dySeries(\"LCL\", label = \"Apakšējā ticamības robeža\", color = \"blue\", strokeWidth = 1) %&gt;%\n    dySeries(\"UCL\", label = \"Augšējā ticamības robeža\", color = \"blue\", strokeWidth = 1) %&gt;%\n    \n    \n    dyAxis(\"x\", label = \"Gads\") %&gt;%\n    dyAxis(\"y\", label = \"Izmaksas (eiro/st)\") %&gt;%\n    \n    \n    dyLegend(show = \"always\", hideOnMouseOut = FALSE) %&gt;%\n    dyOptions(\n      fillGraph = FALSE,\n      drawGrid = TRUE\n    ) %&gt;%\n    dyRangeSelector()\n}\n\n\nforecast_dygraph &lt;- prepare_dygraph_data(forecast_df)\n\n\nforecast_dygraph"
  }
]